{"version":3,"sources":["webpack:///./templates/details-modal.hbs","webpack:///./js/refs.js","webpack:///./js/decodingJenres.js","webpack:///./js/components/headers-tpl.js","webpack:///./js/homePageRendering.js","webpack:///./js/movieSearch.js","webpack:///./js/userLibrary.js","webpack:///./js/modalMovie.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","program","noop","refs","ulListMovie","document","querySelector","liFilmsGalleryItem","headerSearchWarningShow","decGenres","id","name","headerTemplates","homeHeader","myLibraryHeader","modalHeader","filmsGalleryId","header","logo","homeLink","path","key","fetchTrends","fetch","then","response","json","results","genres","films","map","poster_path","title","release_date","genre_ids","mapedGenres","filter","genre","includes","markup","toUpperCase","slice","join","split","insertAdjacentHTML","updateFilmsGalleryMarkup","updateHeaderMarkup","homePageRendering","addEventListener","e","listMovie","innerHTML","preventDefault","imputValue","res","length","console","log","classList","add","remove","showMoveNotFound","makeNewObjectFilms","item","curentGenres","found","find","push","normalizedGenres","original_title","addMarkup","fetchApiSearch","target","value","require","userQueue","movieId","closeMovieDetails","modalCard","onPressESC","event","code","window","removeEventListener","closeOnClick","modalDetailedCard","modalInfo","modalGenreInfo","parentNode","filmsGallery","body","nodeName","dataset","baseUrl","apiKey","catch","error","getMovieDetails","newData","vote_average","vote_count","popularity","overview","modalMovieCard","movieDetailedCardTemplate","addToWatchedBtn","movieData","userWatched","savedWatched","localStorage","getItem","JSON","parse","movie","setItem","stringify","addToQueueBtn","savedQueue"],"mappings":"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","file":"main.1328ede2fd0dfa0381dd.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n                    <span class=\\\"modal-info-genres-text-list-data\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal\\\">\\r\\n    <div class=\\\"modal-container\\\">\\r\\n        <img class=\\\"modal-image\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":69},\"end\":{\"line\":3,\"column\":84}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":91},\"end\":{\"line\":3,\"column\":100}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"modal-info\\\">\\r\\n            <h2 class=\\\"modal-info-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":50}}}) : helper)))\n    + \"</h2>\\r\\n            <p class=\\\"modal-info-vote card-text\\\">\\r\\n                Vote / Votes<span class=\\\"modal-info-vote-average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":66},\"end\":{\"line\":8,\"column\":82}}}) : helper)))\n    + \"</span>/<span\\r\\n                    class=\\\"modal-info-vote-count\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <p class=\\\"modal-info-popularity card-text\\\">\\r\\n                Popularity<span class=\\\"modal-info-popularity-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":67},\"end\":{\"line\":12,\"column\":81}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <p class=\\\"modal-info-title-original card-text\\\">\\r\\n                Original Title<span class=\\\"modal-info-title-original-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":75},\"end\":{\"line\":15,\"column\":93}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <div class=\\\"modal-info-genres\\\">\\r\\n                <p class=\\\"modal-info-genres-text card-text\\\">\\r\\n                    Genre\\r\\n                </p>\\r\\n                <p class=\\\"modal-info-genres-text-list\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":55},\"end\":{\"line\":23,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </p>\\r\\n            </div>\\r\\n            <h3 class=\\\"modal-info-about\\\">About</h3>\\r\\n            <p class=\\\"modal-info-description\\\">\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":16},\"end\":{\"line\":28,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <div class=\\\"modal-info-buttons-list\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"modal-info-buttons-list-item is-active-btn\\\" id=\\\"js-watched-button\\\">Add to\\r\\n                    watched</button>\\r\\n                <button type=\\\"button\\\" class=\\\"modal-info-buttons-list-item\\\" id=\\\"js-queue-button\\\">Add to queue</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","const refs = {\r\n  ulListMovie: document.querySelector('.list-movie-search-js'),\r\n  liFilmsGalleryItem: document.querySelector('.films-gallery-item'),\r\n  headerSearchWarningShow() {\r\n    return document.querySelector('#header-search-warning-show');\r\n  },\r\n};\r\n\r\nexport default refs;\r\n","const decGenres = [\r\n{ id: 28, name: \"Action\" },\r\n{id: 12, name: \"Adventure\"},\r\n{id: 16, name: \"Animation\"},\r\n{id: 35, name: \"Comedy\"},\r\n{id: 80, name: \"Crime\"},\r\n{id: 99, name: \"Documentary\"},\r\n{id: 18, name: \"Drama\"},\r\n{id: 10751, name: \"Family\"},\r\n{id: 14, name: \"Fantasy\"},\r\n{id: 36, name: \"History\"},\r\n{id: 27, name: \"Horror\"},\r\n{id: 10402, name: \"Music\"},\r\n{id: 9648, name: \"Mystery\"},\r\n{id: 10749, name: \"Romance\"},\r\n{id: 878, name: \"Science Fiction\"},\r\n{id: 10770, name: \"TV Movie\"},\r\n{id: 53, name: \"Thriller\"},\r\n{id: 10752, name: \"War\"},\r\n{ id: 37, name: \"Western\" }]\r\n\r\nexport default decGenres","const headerTemplates = {\r\n  homeHeader: `<div class=\" header home-header header-container\">\r\n  <div class=\"header-nav-container\">\r\n    <a href=\"\" class=\"header-logo logo link header-logo-js\">\r\n    <span class=\"header-logo-img\"></span>\r\n    <span class=\"header-logo-txt\">Filmoteka</span></a>\r\n  \r\n<nav class=\"header-navigation\">\r\n  <ul class=\"header-navigation-list\">\r\n    <li class=\"header-navigation-list-item\"><a href=\"\"\r\n        class=\"navigation-list-item-link link navigation-list-item-link-home current\">HOME</a></li>\r\n    <li class=\"header-navigation-list-item\"><a href=\"\"\r\n        class=\"navigation-list-item-link link navigation-list-item-link-my-library\">MY LIBRARY</a>\r\n    </li>\r\n    <li class=\"header-navigation-list-item\"><a href=\"\"\r\n        class=\"navigation-list-item-link link navigation-list-item-link-join-us\">join us</a>\r\n    </li>\r\n  </ul>\r\n</nav></div>\r\n  <form action=\"\" class=\"header-search-form\" id=\"search-form\">\r\n    <input type=\"text\" name=\"query\" class=\"header-search-form-input\" placeholder=\"Поиск фильмов\">\r\n    <button class=\"header-search-form-btn\" type=\"submit\"></button>\r\n  </form>\r\n  <p id=\"header-search-warning-show\">Search result not successful. Enter the correct movie name and</p>\r\n</div>`,\r\n  myLibraryHeader: `<div class=\" header my-library-header header-container\">\r\n  <div class=\"header-nav-container\">\r\n    <a href=\"\" class=\"header-logo logo link header-logo-js\">\r\n      <span class=\"header-logo-img\"></span>\r\n      <span class=\"header-logo-txt\">Filmoteka</span></a>\r\n  <nav class=\"header-navigation\">\r\n    <ul class=\"header-navigation-list\">\r\n      <li class=\"header-navigation-list-item\"><a href=\"\"\r\n          class=\"navigation-list-item-link link navigation-list-item-link-home\">HOME</a></li>\r\n      <li class=\"header-navigation-list-item\"><a href=\"\"\r\n          class=\"navigation-list-item-link link navigation-list-item-link-my-library current\">MY LIBRARY</a>\r\n      </li>\r\n  \r\n    </ul>\r\n  </nav>\r\n  </div>\r\n  <ul class=\"header-button-list\">\r\n    <li class=\"header-button-item\"><button class=\"header-button header-button-watched is-active-btn\">watched</button></li>\r\n    <li class=\"header-button-item\"><button class=\"header-button header-button-queue\">queue</button></li>\r\n  </ul>\r\n  \r\n</div>`,\r\n  modalHeader: `<div class=\"header modal-header header-container\">\r\n  <div class=\"header-nav-container\">\r\n    <a href=\"\" class=\"header-logo logo link header-logo-js\">\r\n      <span class=\"header-logo-img\"></span>\r\n      <span class=\"header-logo-txt\">Filmoteka</span></a>\r\n    <nav class=\"header-navigation\">\r\n      <ul class=\"header-navigation-list\">\r\n        <li class=\"header-navigation-list-item\"><a href=\"\" class=\"navigation-list-item-link link navigation-list-item-link-home\">HOME</a></li>\r\n        <li class=\"header-navigation-list-item\"><a href=\"\" class=\"navigation-list-item-link link navigation-list-item-link-my-library\">MY LIBRARY</a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</div>`,\r\n};\r\nexport default headerTemplates;\r\n","import headerTemplates from './components/headers-tpl';\r\nimport searchFilm from './movieSearch.js'\r\nconst refs = {\r\n  filmsGalleryId: document.querySelector('#films-gallery'),\r\n  header: document.querySelector('.header-container-js'),\r\n  logo: document.querySelector('.header-logo-js'),\r\n  homeLink: document.querySelector('.navigation-list-item-link-home'),\r\n \r\n};\r\n\r\nconst path = 'https://api.themoviedb.org/3';\r\nconst key = 'ffddee44025dd24685ea61d637d56d24';\r\nfunction fetchTrends() {\r\n  fetch(`${path}/trending/movie/day?api_key=${key}`)\r\n    .then(response => response.json())\r\n    .then(({ results }) => {\r\n      fetchGenres().then(({ genres }) => {\r\n        updateFilmsGalleryMarkup(results, genres);\r\n      });\r\n    });\r\n}\r\nfunction fetchGenres() {\r\n  return fetch(`${path}/genre/movie/list?api_key=${key}`).then(response =>\r\n    response.json(),\r\n  );\r\n}\r\nfunction updateFilmsGalleryMarkup(films, genres) {\r\n  // console.log('genres:', genres);\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n    // console.log(arr);\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n    // console.log(genresArr);\r\n    const markup = `\r\n  <li class=\"films-gallery-item\" data-id=\"${id}\">\r\n    <img\r\n      class=\"films-gallery-item-image\"\r\n      src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n      alt=\"«${title}» film poster\"\r\n    >\r\n    <p class=\"films-gallery-item-title films-gallery-item-description\">${title.toUpperCase()}</p>\r\n    <p class=\"films-gallery-item-info films-gallery-item-description\">${mapedGenres\r\n      .slice(0, 3)\r\n      .join(', ')} | ${release_date.split('-')[0]}</p>    \r\n  </li>\r\n  `;\r\n    refs.filmsGalleryId.insertAdjacentHTML('beforeend', markup);\r\n   \r\n  });\r\n}\r\n\r\nfunction updateHeaderMarkup(headerTemplates) {\r\n  refs.header.insertAdjacentHTML('beforeend', headerTemplates);\r\n}\r\n\r\nfunction homePageRendering(headerTemplates) {\r\n  updateHeaderMarkup(headerTemplates);\r\n  fetchTrends();\r\n}\r\n\r\nhomePageRendering(headerTemplates.homeHeader);\r\n\r\n// Функция поиска и рендера фильма\r\nsearchFilm()\r\n \r\n\r\n\r\n\r\n\r\n","import refs from './refs.js'\r\nimport decGenres from './decodingJenres.js'\r\n\r\n\r\n\r\nexport default function searchFilm(){\r\n  const headerSearchForm = document.querySelector('.header-search-form')\r\n  \r\n  headerSearchForm.addEventListener('submit', (e) => {\r\n    const liFilmsGalleryItem = document.querySelector('.films-gallery-item')\r\n    const listMovie = document.querySelector('.list-movie-search-js')\r\n   \r\n    if (liFilmsGalleryItem) {\r\n      listMovie.innerHTML = ''\r\n    }\r\n    e.preventDefault()\r\n    fetchApiSearch(e.target[0].value)\r\n    e.target[0].value = ''\r\n    console.log('Вывожу фильмы по запросу', e.target[0].value);\r\n    const filmsGalleryId = document.querySelector('#films-gallery');\r\n    filmsGalleryId.innerHTML = ''\r\n\r\n  })\r\n\r\n}\r\n\r\nfunction fetchApiSearch(imputValue) {\r\n// const startingUrl = 'https://image.tmdb.org/t/p/original'\r\nconst pageNumber = 1\r\nconst query = imputValue\r\nconst API = `https://api.themoviedb.org/3/search/movie?api_key=ffddee44025dd24685ea61d637d56d24&language=en-US&query=${query}&page=${pageNumber}&include_adult=false`\r\nfetch(API)\r\n.then(res => res.json())\r\n  .then(data => {\r\n     showMoveNotFound(data)\r\n       makeNewObjectFilms(data)\r\n    })   \r\n\r\n  const makeNewObjectFilms = function (data) {\r\n  const newData = data.results.map((item) => {\r\n    let curentGenres = [];\r\n    item.genre_ids.map((id) => {\r\n      const found = decGenres.find((item) => item.id === id);\r\n      curentGenres.push(found.name);\r\n    });\r\n    if (curentGenres.length >= 3) {\r\n      const normalizedGenres = curentGenres.slice(0, 2);\r\n      normalizedGenres.push(\"Other\");\r\n      item.genre_ids = normalizedGenres.join(', ')\r\n      item.release_date = item.release_date.slice(0, 4);\r\n    } else {\r\n      item.genre_ids = curentGenres.join(', ');\r\n      if (item.release_date) item.release_date = item.release_date.slice(0, 4);\r\n    }\r\n\r\n      addMarkup(item)\r\n  });\r\n \r\n};\r\n}\r\n\r\n\r\nfunction addMarkup(item) {\r\n    return refs.ulListMovie.insertAdjacentHTML('beforeend', `\r\n        <li class=\"films-gallery-item\" data-id=\"${item.id}\">\r\n        <img class=\"films-gallery-item-image\" src=\"https://image.tmdb.org/t/p/original${item.poster_path}\" alt=\"${item.original_title}\" width=\"150px\"/>\r\n        <p class=\"films-gallery-item-title films-gallery-item-description\">${item.original_title}</p> \r\n        <p class=\"films-gallery-item-info films-gallery-item-description\">${item.genre_ids} | ${item.release_date}</p>\r\n        </li>\r\n      `) \r\n}\r\n\r\nfunction showMoveNotFound(data) {\r\n   if (data.results.length === 0) {\r\n      console.log(refs.headerSearchWarningShow());\r\n        refs.headerSearchWarningShow().classList.add('header-search-warning-show')\r\n    }\r\n    else {\r\n       refs.headerSearchWarningShow().classList.remove('header-search-warning-show')\r\n    }\r\n}","const _ = require('lodash');\r\n\r\n// userWatched\r\n\r\n// export let userWatched = [];\r\n\r\nexport function updateUserWatched(movieData) {\r\n  let userWatched = [];\r\n  let savedWatched = localStorage.getItem('localWatched');\r\n  if (savedWatched) {\r\n    userWatched = JSON.parse(savedWatched);\r\n  } else {\r\n    userWatched = [];\r\n  }\r\n\r\n  userWatched.map(movie => {\r\n    if (movie.id === movieData.id) {\r\n      return console.log('already added');\r\n      // здесь добавить нотификейшн\r\n    }\r\n  });\r\n\r\n  userWatched.push(movieData);\r\n  console.log(userWatched);\r\n  // const uniqWatched = _.uniq(userWatched, 'title');\r\n  // console.log(uniqWatched);\r\n  return localStorage.setItem('localWatched', JSON.stringify(userWatched));\r\n}\r\n\r\n// QUEUE\r\nexport let userQueue = [];\r\n\r\nexport function updateUserQueue(movieData) {\r\n  let savedQueue = localStorage.getItem('userQueue');\r\n  if (savedQueue) {\r\n    userQueue = JSON.parse(savedQueue);\r\n  } else {\r\n    userQueue = [];\r\n  }\r\n\r\n  userQueue.map(movie => {\r\n    if (movie.id === movieData.id) {\r\n      return console.log('already added');\r\n      // здесь добавить нотификейшн\r\n    }\r\n  });\r\n\r\n  userQueue.push(movieData);\r\n  console.log(userQueue);\r\n  // const uniqQueue = _.uniq(userQueue, 'id');\r\n  // console.log(uniqQueue);\r\n  localStorage.setItem('userQueue', JSON.stringify(userQueue));\r\n}\r\n","import headerTemplates from './components/headers-tpl';\r\nimport movieDetailedCardTemplate from '../templates/details-modal.hbs';\r\nimport refs from './refs';\r\nimport {\r\n  userWatched,\r\n  updateUserWatched,\r\n  userQueue,\r\n  updateUserQueue,\r\n} from './userLibrary';\r\n\r\nconst apiKey = 'ffddee44025dd24685ea61d637d56d24';\r\nconst baseUrl = 'https://api.themoviedb.org/3/movie/';\r\nlet movieId = 0;\r\n\r\nrefs.filmsGallery = document.querySelector('.films-gallery-container');\r\nrefs.body = document.querySelector('body');\r\n\r\nrefs.filmsGallery.addEventListener('click', handleMovieDetails);\r\n\r\nfunction handleMovieDetails(event) {\r\n  if (event.target.parentNode.nodeName !== 'LI') {\r\n    return;\r\n  }\r\n  movieId = event.target.parentNode.dataset.id;\r\n  getMovieDetails(baseUrl, apiKey, movieId)\r\n    .then(data => {\r\n      const newData = {\r\n        id: data.id,\r\n        poster_path: data.poster_path,\r\n        title: data.title,\r\n        vote_average: data.vote_average,\r\n        vote_count: data.vote_count,\r\n        popularity: data.popularity,\r\n        original_title: data.original_title,\r\n        overview: data.overview,\r\n        genres: data.genres.slice(0, 3),\r\n      };\r\n\r\n      const modalMovieCard = movieDetailedCardTemplate(newData);\r\n      const markup = `<div class=\"modal-backdrop\">\r\n    ${headerTemplates.modalHeader}\r\n    ${modalMovieCard}\r\n    <footer class=\"footer\">\r\n      <div class=\"block\">\r\n        <p class=\"text\">&#169; 2020 | All Rights Reserved |</p>\r\n        <div class=\"mob-container\">\r\n          <p class=\"develop-text\">Developed with</p>\r\n          <span class=\"footer-heart-svg heart-svg\"></span>\r\n          <a class=\"open-modal-develop\" href=\"#\">by GoIT Students</a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n    </div>`;\r\n      refs.body.insertAdjacentHTML('beforeend', markup);\r\n\r\n      window.addEventListener('keydown', onPressESC);\r\n      refs.modalCard = document.querySelector('.modal-backdrop');\r\n      refs.modalCard.addEventListener('click', closeOnClick);\r\n\r\n      // WATCHED BUTTON HANDLER\r\n      refs.addToWatchedBtn = document.querySelector('#js-watched-button');\r\n      refs.addToWatchedBtn.addEventListener('click', e => {\r\n        updateUserWatched(newData);\r\n      });\r\n\r\n      // QUEUE BUTTON HANDLER\r\n      refs.addToQueueBtn = document.querySelector('#js-queue-button');\r\n      refs.addToQueueBtn.addEventListener('click', e => {\r\n        updateUserQueue(newData);\r\n      });\r\n    })\r\n    .catch(error => console.log(error));\r\n}\r\n\r\nfunction getMovieDetails(baseUrl, apiKey, movieId) {\r\n  return fetch(`${baseUrl}${movieId}?api_key=${apiKey}&language=en-US`)\r\n    .then(response => response.json())\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n\r\nfunction closeMovieDetails() {\r\n  console.log('closeMovieDetails');\r\n  refs.modalCard.remove();\r\n}\r\n\r\nfunction onPressESC(event) {\r\n  console.log('onPresEsc');\r\n  if (event.code === 'Escape') {\r\n    closeMovieDetails();\r\n    window.removeEventListener('keydown', onPressESC);\r\n  }\r\n}\r\n\r\nfunction closeOnClick(event) {\r\n  refs.modalDetailedCard = document.querySelector('.modal');\r\n  refs.modalInfo = document.querySelector('.modal-info');\r\n  refs.modalGenreInfo = document.querySelector('.modal-info-genres');\r\n\r\n  switch (event.target.parentNode) {\r\n    case refs.modalGenreInfo:\r\n    case refs.modalInfo:\r\n    case refs.modalDetailedCard:\r\n      closeMovieDetails();\r\n      refs.modalCard.removeEventListener('click', closeOnClick);\r\n      break;\r\n    default:\r\n      return;\r\n  }\r\n}\r\n"],"sourceRoot":""}